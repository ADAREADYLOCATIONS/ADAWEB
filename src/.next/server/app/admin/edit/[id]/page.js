(()=>{var e={id:838,ids:[838]};e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},11493:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var n=r(50482),a=r(69108),o=r(62563),s=r.n(o),i=r(68300),l={};for(const m in i)["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(m)<0&&(l[m]=()=>i[m]);r.d(t,l);const c=["",{children:["admin",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,17466)),"C:\\ADA\\adalatest\\ADAWEB\\src\\app\\admin\\edit\\[id]\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,91881)),"C:\\ADA\\adalatest\\ADAWEB\\src\\app\\admin\\edit\\[id]\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,66294)),"C:\\ADA\\adalatest\\ADAWEB\\src\\app\\admin\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,88234)),"C:\\ADA\\adalatest\\ADAWEB\\src\\app\\admin\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,55450)),"C:\\ADA\\adalatest\\ADAWEB\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,87984)),"C:\\ADA\\adalatest\\ADAWEB\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\ADA\\adalatest\\ADAWEB\\src\\app\\admin\\edit\\[id]\\page.tsx"],u="/admin/edit/[id]/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/edit/[id]/page",pathname:"/admin/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},54029:(e,t,r)=>{Promise.resolve().then(r.bind(r,73411))},87725:(e,t,r)=>{Promise.resolve().then(r.bind(r,45778))},35303:()=>{},73411:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>je});var n=r(95344),a=r(3729),o=r(8428),s=r(84359),i=r(53873),l=r(51414);function c(e){return"approved"===e.status}function d(e){return"pending"===e.status}var u=r(26831),p=r(16699),h=r(65442),m=r(80443),x=r(51848),_=r(65651),b=r(56815),g=r(10581),f=r(71241),y=r(31143),v=r(94146),j=r(85866),Z=r(39448),w=r(27279),k=r(30732),C=r(15543);function S(e){return(0,C.ZP)("MuiLinearProgress",e)}(0,k.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const I=["className","color","value","valueBuffer","variant"];let A,P,D,B,q,M,N=e=>e;const E=(0,f.F4)(A||(A=N`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),$=(0,f.F4)(P||(P=N`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),z=(0,f.F4)(D||(D=N`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),W=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:"light"===e.palette.mode?(0,y.$n)(e.palette[t].main,.62):(0,y._j)(e.palette[t].main,.5),R=(0,Z.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${(0,j.Z)(r.color)}`],t[r.variant]]}})((({ownerState:e,theme:t})=>(0,_.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:W(t,e.color)},"inherit"===e.color&&"buffer"!==e.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===e.variant&&{backgroundColor:"transparent"},"query"===e.variant&&{transform:"rotate(180deg)"}))),L=(0,Z.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.dashed,t[`dashedColor${(0,j.Z)(r.color)}`]]}})((({ownerState:e,theme:t})=>{const r=W(t,e.color);return(0,_.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===e.color&&{opacity:.3},{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,f.iv)(B||(B=N`
    animation: ${0} 3s infinite linear;
  `),z)),X=(0,Z.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t[`barColor${(0,j.Z)(r.color)}`],("indeterminate"===r.variant||"query"===r.variant)&&t.bar1Indeterminate,"determinate"===r.variant&&t.bar1Determinate,"buffer"===r.variant&&t.bar1Buffer]}})((({ownerState:e,theme:t})=>(0,_.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===e.color?"currentColor":(t.vars||t).palette[e.color].main},"determinate"===e.variant&&{transition:"transform .4s linear"},"buffer"===e.variant&&{zIndex:1,transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&(0,f.iv)(q||(q=N`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),E))),Y=(0,Z.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t[`barColor${(0,j.Z)(r.color)}`],("indeterminate"===r.variant||"query"===r.variant)&&t.bar2Indeterminate,"buffer"===r.variant&&t.bar2Buffer]}})((({ownerState:e,theme:t})=>(0,_.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==e.variant&&{backgroundColor:"inherit"===e.color?"currentColor":(t.vars||t).palette[e.color].main},"inherit"===e.color&&{opacity:.3},"buffer"===e.variant&&{backgroundColor:W(t,e.color),transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&(0,f.iv)(M||(M=N`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),$))),F=a.forwardRef((function(e,t){const r=(0,w.i)({props:e,name:"MuiLinearProgress"}),{className:a,color:o="primary",value:s,valueBuffer:i,variant:l="indeterminate"}=r,c=(0,x.Z)(r,I),d=(0,_.Z)({},r,{color:o,variant:l}),u=(e=>{const{classes:t,variant:r,color:n}=e,a={root:["root",`color${(0,j.Z)(n)}`,r],dashed:["dashed",`dashedColor${(0,j.Z)(n)}`],bar1:["bar",`barColor${(0,j.Z)(n)}`,("indeterminate"===r||"query"===r)&&"bar1Indeterminate","determinate"===r&&"bar1Determinate","buffer"===r&&"bar1Buffer"],bar2:["bar","buffer"!==r&&`barColor${(0,j.Z)(n)}`,"buffer"===r&&`color${(0,j.Z)(n)}`,("indeterminate"===r||"query"===r)&&"bar2Indeterminate","buffer"===r&&"bar2Buffer"]};return(0,g.Z)(a,S,t)})(d),p=(0,v.V)(),h={},m={bar1:{},bar2:{}};if("determinate"===l||"buffer"===l)if(void 0!==s){h["aria-valuenow"]=Math.round(s),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let e=s-100;p&&(e=-e),m.bar1.transform=`translateX(${e}%)`}else 0;if("buffer"===l)if(void 0!==i){let e=(i||0)-100;p&&(e=-e),m.bar2.transform=`translateX(${e}%)`}else 0;return(0,n.jsxs)(R,(0,_.Z)({className:(0,b.Z)(u.root,a),ownerState:d,role:"progressbar"},h,{ref:t},c,{children:["buffer"===l?(0,n.jsx)(L,{className:u.dashed,ownerState:d}):null,(0,n.jsx)(X,{className:u.bar1,ownerState:d,style:m.bar1}),"determinate"===l?null:(0,n.jsx)(Y,{className:u.bar2,ownerState:d,style:m.bar2})]}))}));var J=r(43584),O=r(70194),T=r(79238),U=r(1893),G=r(86647),V=r(90424),H=r(9666),Q=r(59938),K=r(23156),ee=r(88755),te=r(2190),re=r(65183);function ne({onNext:e,onBack:t,initialData:r}){const[o,c]=(0,a.useState)(r?.name||""),[d,u]=(0,a.useState)(""),[p,m]=(0,a.useState)(r?.address||""),[x,_]=(0,a.useState)(r?.unit||""),[b,g]=(0,a.useState)(r?.latitude||null),[f,y]=(0,a.useState)(r?.longitude||null),[v,j]=(0,a.useState)([]),[Z,w]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1),[S,I]=(0,a.useState)(null);(0,a.useEffect)((()=>{const e=setTimeout((async()=>{if(!d||d.length<3)return void j([]);const e="pk.eyJ1IjoiYWRhYWxyZWFkeWxvY2F0aW9ucyIsImEiOiJjbTRpcms1ODEwNWN2MmlwejJsZnRwbTh1In0.h1-mYaPDVZPGrUrJYEfaCA";C(!0),I(null);try{const t=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(d)}.json?access_token=${e}&types=address,poi&country=us,pr,as,gu,mp,vi&limit=5`);if(!t.ok)throw new Error("Search failed");const r=await t.json();j(r.features||[]),w(!0)}catch(t){console.error("Error searching locations:",t),I("Search failed. Please try again."),j([])}finally{C(!1)}}),300);return()=>clearTimeout(e)}),[d]);return(0,n.jsxs)(H.Z,{spacing:4,children:[S&&n.jsx(l.Z,{severity:"error",onClose:()=>I(null),children:S}),n.jsx(Q.Z,{label:"Location Name",value:o,onChange:e=>c(e.target.value),fullWidth:!0,required:!0,placeholder:"e.g., Central Park Visitor Center"}),(0,n.jsxs)(s.Z,{sx:{position:"relative"},children:[n.jsx(Q.Z,{label:"Search Address",value:d,onChange:e=>u(e.target.value),fullWidth:!0,placeholder:"Start typing to search...",InputProps:{endAdornment:k&&n.jsx(i.Z,{size:20})}}),Z&&v.length>0&&n.jsx(J.Z,{sx:{position:"absolute",top:"100%",left:0,right:0,mt:1,maxHeight:300,overflow:"auto",zIndex:1e3,borderRadius:1,boxShadow:3},children:n.jsx(K.Z,{children:v.map((e=>n.jsx(ee.ZP,{onClick:()=>(e=>{m(e.place_name),g(e.center[1]),y(e.center[0]),u(""),w(!1)})(e),sx:{py:2,cursor:"pointer","&:hover":{bgcolor:"action.hover"}},children:n.jsx(te.Z,{primary:e.place_name})},e.id)))})})]}),p&&(0,n.jsxs)(J.Z,{sx:{p:3,bgcolor:"background.default",borderRadius:2},children:[n.jsx(h.Z,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Selected Address"}),n.jsx(h.Z,{variant:"body1",gutterBottom:!0,children:p}),n.jsx(Q.Z,{label:"Unit/Suite (Optional)",value:x,onChange:e=>_(e.target.value),fullWidth:!0,sx:{mt:2},placeholder:"e.g., Apt 4B, Suite 200"})]}),(0,n.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[t&&n.jsx(re.Z,{onClick:t,children:"Back"}),n.jsx(re.Z,{variant:"contained",onClick:()=>{o.trim()?p.trim()?b&&f?e({name:o,address:p,unit:x,latitude:b,longitude:f}):I("Please select a valid address from the suggestions"):I("Please select an address"):I("Please enter a location name")},disabled:!o||!p||!b||!f,children:"Next"})]})]})}var ae=r(90163),oe=r(23657),se=r(36773),ie=r(42419);function le({onNext:e,onBack:t,initialData:r}){const[o,i]=(0,a.useState)(r?.accessibility_level||"high"),[l,c]=(0,a.useState)(r?.description||"");return(0,n.jsxs)(H.Z,{spacing:3,children:[n.jsx(h.Z,{variant:"body1",color:"text.secondary",children:"Tell us about the accessibility features of this location."}),(0,n.jsxs)(ae.Z,{component:"fieldset",children:[n.jsx(h.Z,{variant:"subtitle2",gutterBottom:!0,children:"Overall Accessibility Level"}),(0,n.jsxs)(oe.Z,{value:o,onChange:e=>i(e.target.value),children:[n.jsx(se.Z,{value:"high",control:n.jsx(ie.Z,{}),label:"Fully accessible (no barriers)"}),n.jsx(se.Z,{value:"medium",control:n.jsx(ie.Z,{}),label:"Partially accessible (some barriers)"}),n.jsx(se.Z,{value:"low",control:n.jsx(ie.Z,{}),label:"Limited accessibility (significant barriers)"})]})]}),n.jsx(Q.Z,{label:"Accessibility Description",value:l,onChange:e=>c(e.target.value),multiline:!0,rows:3,fullWidth:!0,placeholder:"Describe the accessibility features (e.g., ramps, automatic doors, etc.)"}),(0,n.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[n.jsx(re.Z,{onClick:t,children:"Back"}),n.jsx(re.Z,{variant:"contained",onClick:()=>{e({accessibility_level:o,description:l})},children:"Next"})]})]})}var ce=r(44904),de=r(72746),ue=r(87418),pe=r(35364),he=r(5713);const me=[{value:24,label:'24"'},{value:32,label:'32"'},{value:36,label:'36"'},{value:42,label:'42"'}];function xe({onNext:e,onBack:t,initialData:r}){const[o,i]=(0,a.useState)(r?.has_steps?"yes":r?.step_status_unknown?"unknown":"no"),[l,c]=(0,a.useState)(r?.step_description||""),[d,u]=(0,a.useState)(r?.door_width_inches||36),[p,m]=(0,a.useState)(r?.door_type||"automatic"),[x,_]=(0,a.useState)(r?.doorway_notes||"");return(0,n.jsxs)(H.Z,{spacing:4,children:[n.jsx(J.Z,{elevation:2,sx:{p:3,borderRadius:2},children:(0,n.jsxs)(H.Z,{spacing:3,children:[(0,n.jsxs)(h.Z,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsx(ue.Z,{color:"primary"}),"Entrance Steps"]}),(0,n.jsxs)(ae.Z,{component:"fieldset",children:[n.jsx(h.Z,{variant:"subtitle2",gutterBottom:!0,children:"Are there steps at the entrance?"}),(0,n.jsxs)(oe.Z,{value:o,onChange:e=>i(e.target.value),children:[n.jsx(se.Z,{value:"no",control:n.jsx(ie.Z,{}),label:"No steps (level entrance)"}),n.jsx(se.Z,{value:"yes",control:n.jsx(ie.Z,{}),label:"Yes, has steps"}),n.jsx(se.Z,{value:"unknown",control:n.jsx(ie.Z,{}),label:"I don't know"})]})]}),"yes"===o&&n.jsx(Q.Z,{label:"Describe the steps",value:l,onChange:e=>c(e.target.value),multiline:!0,rows:2,fullWidth:!0,placeholder:"e.g., '2 steps at entrance, each about 6 inches high'"})]})}),n.jsx(ce.Z,{}),n.jsx(J.Z,{elevation:2,sx:{p:3,borderRadius:2},children:(0,n.jsxs)(H.Z,{spacing:3,children:[(0,n.jsxs)(h.Z,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsx(pe.Z,{color:"primary"}),"Doorway Details"]}),(0,n.jsxs)(s.Z,{children:[n.jsx(h.Z,{variant:"subtitle2",gutterBottom:!0,children:"Door Width (in inches)"}),n.jsx(de.ZP,{value:d,onChange:(e,t)=>u(t),min:24,max:42,step:1,marks:me,valueLabelDisplay:"on",valueLabelFormat:e=>`${e}"`}),n.jsx(h.Z,{variant:"body2",color:d>=32?"success.main":"warning.main",sx:{mt:1},children:d>=36?"\u2728 Excellent accessibility":d>=32?"\u2713 Meets accessibility standards":"\u26a0\ufe0f Below accessibility standards"})]}),(0,n.jsxs)(ae.Z,{component:"fieldset",children:[n.jsx(h.Z,{variant:"subtitle2",gutterBottom:!0,children:"Door Type"}),(0,n.jsxs)(oe.Z,{value:p,onChange:e=>m(e.target.value),children:[n.jsx(se.Z,{value:"automatic",control:n.jsx(ie.Z,{}),label:(0,n.jsxs)(H.Z,{direction:"row",alignItems:"center",spacing:1,children:[n.jsx(he.Z,{}),n.jsx("span",{children:"Automatic door"})]})}),n.jsx(se.Z,{value:"manual_easy",control:n.jsx(ie.Z,{}),label:"Manual door (easy to open)"}),n.jsx(se.Z,{value:"manual_heavy",control:n.jsx(ie.Z,{}),label:"Manual door (heavy/requires force)"})]})]}),n.jsx(Q.Z,{label:"Additional doorway notes",value:x,onChange:e=>_(e.target.value),multiline:!0,rows:2,fullWidth:!0,placeholder:"e.g., 'Push button available, door stays open for 10 seconds'"})]})}),(0,n.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[n.jsx(re.Z,{onClick:t,children:"Back"}),n.jsx(re.Z,{variant:"contained",onClick:()=>{var t;e({has_steps:"yes"===o,step_status_unknown:"unknown"===o,step_description:l,door_width:(t=d,t>=36?"wide":t>=32?"standard":"narrow"),door_width_inches:d,door_type:p,doorway_notes:x})},children:"Next"})]})]})}var _e=r(94742);function be({data:e,onBack:t,onSubmit:r,mode:a="create"}){return(0,n.jsxs)(H.Z,{spacing:3,children:[n.jsx(h.Z,{variant:"body1",color:"text.secondary",children:"Please review the information before submitting."}),n.jsx(J.Z,{sx:{p:3,borderRadius:2},children:(0,n.jsxs)(H.Z,{spacing:3,children:[(0,n.jsxs)(s.Z,{children:[n.jsx(h.Z,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Location Name"}),n.jsx(h.Z,{variant:"body1",children:e.name})]}),(0,n.jsxs)(s.Z,{children:[n.jsx(h.Z,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Address"}),(0,n.jsxs)(h.Z,{variant:"body1",children:[e.address,e.unit&&` (${e.unit})`]})]}),(0,n.jsxs)(s.Z,{children:[n.jsx(h.Z,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Accessibility Level"}),n.jsx(_e.Z,{label:e.accessibility_level||"Not specified",color:"high"===e.accessibility_level?"success":"medium"===e.accessibility_level?"warning":"error",sx:{textTransform:"capitalize"}})]}),e.description&&(0,n.jsxs)(s.Z,{children:[n.jsx(h.Z,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Description"}),n.jsx(h.Z,{variant:"body1",children:e.description})]}),(0,n.jsxs)(s.Z,{children:[n.jsx(h.Z,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Entrance Details"}),(0,n.jsxs)(H.Z,{spacing:1,children:[(0,n.jsxs)(h.Z,{variant:"body1",children:["\u2022 Steps: "+(e.step_status_unknown?"Unknown":e.has_steps?"Yes":"No"),e.step_description&&` - ${e.step_description}`]}),n.jsx(h.Z,{variant:"body1",children:`\u2022 Door Width: ${e.door_width_inches}" (${e.door_width})`}),n.jsx(h.Z,{variant:"body1",sx:{textTransform:"capitalize"},children:`\u2022 Door Type: ${e.door_type?.replace("_"," ")}`}),e.doorway_notes&&n.jsx(h.Z,{variant:"body1",children:`\u2022 Notes: ${e.doorway_notes}`})]})]})]})}),(0,n.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[n.jsx(re.Z,{onClick:t,children:"Back"}),n.jsx(re.Z,{variant:"contained",onClick:r,color:"primary",children:"create"===a?"Submit Location":"Save Changes"})]})]})}const ge=[{label:"Basic Info",description:"Location details"},{label:"Accessibility",description:"Accessibility features"},{label:"Entrance",description:"Entrance information"},{label:"Review",description:"Review and submit"}];function fe({open:e,onClose:t,onSubmit:r,initialData:o,mode:i="create"}){const[l,c]=(0,a.useState)(0),[d,u]=(0,a.useState)(o||{}),x=e=>{u((t=>({...t,...e}))),c((e=>e+1))},_=()=>{c((e=>e-1))},b=()=>{c(0),u({}),t()},g=(l+1)/ge.length*100;return n.jsx(p.Z,{open:e,onClose:b,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh",maxHeight:"90vh",borderRadius:2,background:"linear-gradient(to bottom, #1a1a1a, #2d2d2d)"}},children:(0,n.jsxs)(s.Z,{sx:{position:"relative"},children:[(0,n.jsxs)(s.Z,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid",borderColor:"divider"},children:[(0,n.jsxs)(s.Z,{children:[n.jsx(h.Z,{variant:"h6",gutterBottom:!0,children:ge[l].label}),n.jsx(h.Z,{variant:"body2",color:"text.secondary",children:ge[l].description})]}),n.jsx(m.Z,{onClick:b,sx:{color:"text.secondary"},children:n.jsx(V.Z,{})})]}),n.jsx(F,{variant:"determinate",value:g,sx:{height:4,bgcolor:"rgba(255,255,255,0.1)"}}),n.jsx(J.Z,{elevation:0,sx:{p:3,bgcolor:"transparent",borderBottom:"1px solid",borderColor:"divider"},children:n.jsx(O.Z,{activeStep:l,alternativeLabel:!0,sx:{"& .MuiStepLabel-label":{color:"text.secondary","&.Mui-active":{color:"primary.main",fontWeight:"bold"}},"& .MuiStepIcon-root":{color:"action.disabled","&.Mui-active":{color:"primary.main"},"&.Mui-completed":{color:"primary.dark"}}},children:ge.map((e=>n.jsx(T.Z,{children:n.jsx(U.Z,{children:e.label})},e.label)))})}),n.jsx(G.Z,{sx:{p:4},children:(0,n.jsxs)(s.Z,{sx:{maxWidth:600,mx:"auto"},children:[0===l&&n.jsx(ne,{onNext:x,initialData:d}),1===l&&n.jsx(le,{onNext:x,onBack:_,initialData:d}),2===l&&n.jsx(xe,{onNext:x,onBack:_,initialData:d}),3===l&&n.jsx(be,{data:d,onBack:_,onSubmit:()=>r(d),mode:i})]})})]})})}function ye({location:e}){const t=(0,o.useRouter)(),[r,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0);return(0,n.jsxs)(n.Fragment,{children:[n.jsx(fe,{open:c,onClose:()=>{d(!1),t.push("/admin")},onSubmit:async r=>{try{if(!r.name)return i("Location name is required"),!1;const n={name:r.name,address:r.address||e.address||"",unit:r.unit||e.unit||"",latitude:r.latitude??e.latitude,longitude:r.longitude??e.longitude,accessibility_level:r.accessibility_level||e.accessibility_level||"medium",accessibility_status_unknown:r.accessibility_status_unknown??e.accessibility_status_unknown,description:r.description||e.description||"",has_steps:r.has_steps??e.has_steps,step_status_unknown:r.step_status_unknown??e.step_status_unknown,step_description:r.step_description||e.step_description||"",door_width:r.door_width||e.door_width||"standard",door_width_inches:r.door_width_inches??e.door_width_inches,door_type:r.door_type||e.door_type||"manual_easy",doorway_notes:r.doorway_notes||e.doorway_notes||"",has_elevator:r.has_elevator??e.has_elevator,has_wide_pathways:r.has_wide_pathways??e.has_wide_pathways,floor_type:r.floor_type||e.floor_type||"smooth",interior_notes:r.interior_notes||e.interior_notes||"",has_accessible_parking:r.has_accessible_parking??e.has_accessible_parking,parking_type:r.parking_type||e.parking_type||"none",parking_status_unknown:r.parking_status_unknown??e.parking_status_unknown,has_loading_zone:r.has_loading_zone??e.has_loading_zone,parking_notes:r.parking_notes||e.parking_notes||"",has_restroom:r.has_restroom??e.has_restroom,restroom_unknown:r.restroom_unknown??e.restroom_unknown,is_restroom_accessible:r.is_restroom_accessible??e.is_restroom_accessible,restroom_status_unknown:r.restroom_status_unknown??e.restroom_status_unknown,restroom_notes:r.restroom_notes||e.restroom_notes||"",is_dog_friendly:r.is_dog_friendly??e.is_dog_friendly,dog_friendly_unknown:r.dog_friendly_unknown??e.dog_friendly_unknown,dog_friendly_status_unknown:r.dog_friendly_status_unknown??e.dog_friendly_status_unknown,dog_features:r.dog_features||e.dog_features||""};return await(0,u.XY)(e.id.toString(),n),d(!1),t.push("/admin"),!0}catch(n){return console.error("Error updating location:",n),i("Failed to update location"),!1}},initialData:e,mode:"edit"}),r&&n.jsx(s.Z,{sx:{mt:2},children:n.jsx(l.Z,{severity:"error",onClose:()=>i(null),children:r})})]})}function ve({location:e}){const t=(0,o.useRouter)(),[r,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0);return(0,n.jsxs)(n.Fragment,{children:[n.jsx(fe,{open:c,onClose:()=>{d(!1),t.push("/admin")},onSubmit:async r=>{try{if(!r.name)return i("Location name is required"),!1;r.name,r.address||e.address,r.unit||e.unit,r.latitude??e.latitude,r.longitude??e.longitude,r.accessibility_level||e.accessibility_level,r.accessibility_status_unknown??e.accessibility_status_unknown,r.description||e.description,r.has_steps??e.has_steps,r.step_status_unknown??e.step_status_unknown,r.step_description||e.step_description,r.door_width||e.door_width,r.door_width_inches??e.door_width_inches,r.door_type||e.door_type,r.doorway_notes||e.doorway_notes,r.has_elevator??e.has_elevator,r.has_wide_pathways??e.has_wide_pathways,r.floor_type||e.floor_type,r.interior_notes||e.interior_notes,r.has_accessible_parking??e.has_accessible_parking,r.parking_type||e.parking_type,r.parking_status_unknown??e.parking_status_unknown,r.has_loading_zone??e.has_loading_zone,r.parking_notes||e.parking_notes,r.has_restroom??e.has_restroom,r.restroom_unknown??e.restroom_unknown,r.is_restroom_accessible??e.is_restroom_accessible,r.restroom_status_unknown??e.restroom_status_unknown,r.restroom_notes||e.restroom_notes,r.is_dog_friendly??e.is_dog_friendly,r.dog_friendly_unknown??e.dog_friendly_unknown,r.dog_friendly_status_unknown??e.dog_friendly_status_unknown,r.dog_features||e.dog_features;return await function(e,t){throw new Error("Function not implemented.")}(e.id.toString()),d(!1),t.push("/admin"),!0}catch(n){return console.error("Error updating pending location:",n),i("Failed to update pending location"),!1}},initialData:e,mode:"edit"}),r&&n.jsx(s.Z,{sx:{mt:2},children:n.jsx(l.Z,{severity:"error",onClose:()=>i(null),children:r})})]})}function je({params:e}){const[t,r]=(0,a.useState)(null),[p,h]=(0,a.useState)(!0),[m,x]=(0,a.useState)(null),_=(0,o.useRouter)();return(0,a.useEffect)((()=>{(async()=>{try{h(!0),x(null);const t=await(0,u.Hm)(e.id);r(t)}catch(m){const t=m instanceof Error?m.message:"Failed to load location";console.error("Error loading location:",m),x(t),"Location not found"===t&&setTimeout((()=>_.push("/admin")),3e3)}finally{h(!1)}})()}),[e.id,_]),p?n.jsx(s.Z,{sx:{display:"flex",justifyContent:"center",p:3},children:n.jsx(i.Z,{})}):m?n.jsx(s.Z,{sx:{display:"flex",justifyContent:"center",p:3},children:n.jsx(l.Z,{severity:"error",sx:{maxWidth:400},children:m})}):t?n.jsx(s.Z,{sx:{p:3,maxWidth:1200,mx:"auto"},children:c(t)?n.jsx(ye,{location:t}):d(t)?n.jsx(ve,{location:t}):null}):null}},45778:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(95344),a=r(3729),o=r(8428),s=r(84359),i=r(53873),l=r(85655);function c({children:e}){const t=(0,o.useRouter)(),[r,c]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{(async()=>{try{const{data:{session:e}}=await l.O.auth.getSession();if(!e)return void t.replace("/");c(!1)}catch(e){console.error("Auth error:",e),t.replace("/")}})();const{data:{subscription:e}}=l.O.auth.onAuthStateChange(((e,r)=>{r||t.replace("/")}));return()=>e.unsubscribe()}),[t]),r?n.jsx(s.Z,{sx:{height:"100vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.default"},children:n.jsx(i.Z,{})}):n.jsx(s.Z,{sx:{minHeight:"100vh",width:"100%",bgcolor:"background.default",p:3},children:e})}},26831:(e,t,r)=>{"use strict";r.d(t,{Dx:()=>l,Hm:()=>s,RU:()=>o,XY:()=>i});const n="https://vklckuwinkmvefztvawp.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZrbGNrdXdpbmttdmVmenR2YXdwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczMzg0OTc3NywiZXhwIjoyMDQ5NDI1Nzc3fQ.jIoUbi5DwqIMtpCuQxybgN4SZ74MAfXi5kr7sLkxMY4";const o=(0,r(36755).eI)(n,a,{db:{schema:"public"}});async function s(e){try{const{data:t,error:r}=await o.from("locations").select("\n        *,\n        location_photos (\n          id,\n          url,\n          storage_path\n        )\n      ").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Location not found");return{...t,photos:t.location_photos?.map((e=>e.url))||[]}}catch(t){throw console.error("Error fetching location:",t),t}}async function i(e,t){try{const{photos:r,location_photos:n,...a}=t,{error:s}=await o.from("locations").update(a).eq("id",e).eq("status","approved");if(s)throw s;return!0}catch(r){throw console.error("Error updating location:",r),r}}async function l(e){try{const{data:t,error:r}=await o.from("pending_locations").insert([{...e,status:"pending",submitted_at:(new Date).toISOString()}]).select().single();if(r)throw r;return t}catch(t){throw console.error("Error adding location:",t),t}}},90424:(e,t,r)=>{"use strict";var n=r(69286);t.Z=void 0;var a=n(r(20389)),o=r(95344);t.Z=(0,a.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},91881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,generateStaticParams:()=>i});var n=r(25036);const a="https://vklckuwinkmvefztvawp.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZrbGNrdXdpbmttdmVmenR2YXdwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczMzg0OTc3NywiZXhwIjoyMDQ5NDI1Nzc3fQ.jIoUbi5DwqIMtpCuQxybgN4SZ74MAfXi5kr7sLkxMY4";const s=(0,r(97890).eI)(a,o,{db:{schema:"public"}});async function i(){try{const{data:e,error:t}=await s.from("locations").select("id");return t?(console.error("Error fetching locations:",t),[]):e.map((e=>({id:e.id.toString()})))}catch(e){return console.error("Unexpected error in generateStaticParams:",e),[]}}function l({children:e}){return n.jsx(n.Fragment,{children:e})}},17466:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>s});const n=(0,r(86843).createProxy)(String.raw`C:\ADA\adalatest\ADAWEB\src\app\admin\edit\[id]\page.tsx`),{__esModule:a,$$typeof:o}=n,s=n.default},66294:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>s});const n=(0,r(86843).createProxy)(String.raw`C:\ADA\adalatest\ADAWEB\src\app\admin\layout.tsx`),{__esModule:a,$$typeof:o}=n,s=n.default},88234:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(25036),a=r(15147),o=r.n(a),s=r(24484),i=r.n(s);function l(){return n.jsx(o(),{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:n.jsx(i(),{})})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=t.X(0,[225,335,742,890,635,131],(()=>{return e=11493,t(t.s=e);var e}));module.exports=r})();